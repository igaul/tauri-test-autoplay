<!DOCTYPE html>
<html>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
  <body>
    <h1>tauri-test-autoplay</h1>
    <audio src="./test.mp3" controls />

    <script>
      const audio = document.querySelector("audio");
      var promise = audio.play();
      console.log("playing?");

      if (typeof promise !== "undefined") {
        promise
          .then(function () {
            console.log("playing");
          })
          .catch(function (error) {
            console.log("not playing", error);
          });
      }
    </script>
  </body>
</html>
